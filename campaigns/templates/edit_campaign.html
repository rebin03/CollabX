{% extends 'campaigns_base.html' %}

{% block style %}
<style>
    body {
        background-color: #F3F4F6;
    }
</style>
{% endblock %}

{% block main %}
<div class="max-w-4xl mx-auto mt-10 p-8 bg-grey-100 mb-6">
    <h1 class="text-3xl font-semibold mb-6">Edit Campaign</h1>

    <!-- Campaign Form -->
    <form method="post" enctype="multipart/form-data">
        {% csrf_token %}
      <!-- Campaign Title -->
      <div class="mb-6">
        <label for="title" class="block text-sm font-medium text-gray-700 mb-2">Campaign Title</label>
        <input type="text" id="title" name="title" value="{{ form.title.value }}" placeholder="Enter campaign title" class="w-full p-3 border rounded bg-white focus:ring-2 focus:ring-purple-500 focus:outline-none">
      </div>

      <!-- Description -->
      <div class="mb-6">
        <label for="description" class="block text-sm font-medium text-gray-700 mb-2">Description</label>
        <textarea id="description" name="description" placeholder="Enter campaign description" rows="4" class="w-full p-3 border rounded bg-white focus:ring-2 focus:ring-purple-500 focus:outline-none">{{ form.description.value }}</textarea>
      </div>

      <!-- Campaign Image -->
      <div class="mb-6">
        <label class="block text-sm font-medium text-gray-700 mb-2">Campaign Image</label>
        <div id="drop-area" class="border-dashed border-2 border-gray-300 rounded-lg p-6 flex flex-col items-center justify-center text-gray-500 cursor-pointer bg-white">
          <p id="drop-text" class="text-center">Click to upload or drag and drop <br><span class="text-xs text-gray-400">PNG, JPG, GIF up to 10MB</span></p>
          <input type="file" id="fileInput" name="picture" accept="image/png, image/jpeg, image/gif" class="hidden">
          {% if form.picture.value %}
          <img id="preview" src="{{ form.picture.value.url }}" alt="Preview Image" class="mt-4 max-h-40">
          {% else %}
          <img id="preview" src="" alt="Preview Image" class="mt-4 hidden max-h-40">
          {% endif %}
        </div>
      </div>

      <!-- Content Type -->
      <div class="mb-6">
        <label class="block text-sm font-medium text-gray-700 mb-2">Content Type</label>
        <div class="grid grid-cols-2 gap-4">
        {% for option in form.content_types %}
          <div>{{ option }}</div>
        {% endfor %}
        </div>
    </div>

      <!-- Target Audience -->
      <div class="mb-6">
        <label class="block text-sm font-medium text-gray-700 mb-2">Target Audience</label>
        <div class="grid grid-cols-2 gap-4">
        {% for option in form.audience_preferences %}
          <div>{{ option }}</div>
        {% endfor %}
        </div>
      </div>

      <!-- Budget -->
      <div class="mb-6">
        <label for="budget" class="block text-sm font-medium text-gray-700 mb-2">Budget</label>
        <input type="text" id="budget" name="budget" value="{{ form.budget.value }}" placeholder="Enter campaign budget" class="w-full p-3 border rounded bg-white focus:ring-2 focus:ring-purple-500 focus:outline-none">
      </div>

      <!-- Campaign Requirements -->
      <div class="mb-6">
        <label for="requirements" class="block text-sm font-medium text-gray-700 mb-2">Campaign Requirements</label>
        <textarea id="requirements" name="requirements" placeholder="Enter campaign requirements" rows="4" class="w-full p-3 border rounded bg-white focus:ring-2 focus:ring-purple-500 focus:outline-none">{{ form.requirements.value }}</textarea>
      </div>

      <!-- Region -->
      <div class="mb-6">
        <label for="region" class="block text-sm font-medium text-gray-700 mb-2">Region</label>
        <input type="text" id="region" name="region" value="{{ form.region.value }}" placeholder="Enter region" class="w-full p-3 border rounded bg-white focus:ring-2 focus:ring-purple-500 focus:outline-none">

      </div>

      <!-- Buttons -->
      <div class="flex gap-4">
        <button type="submit" class="bg-purple-600 hover:bg-purple-700 text-white py-2 px-4 rounded">Update Campaign</button>
        <a href="{% url 'brand-dashboard' %}" class="bg-gray-300 hover:bg-gray-400 text-gray-800 py-2 px-4 rounded">Cancel</a>
      </div>
    </form>
</div>
{% endblock %}